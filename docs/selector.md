# 选择器

除了行内样式，其它样式要想应用到 `HTML` 中都要先通过选择器选中元素。

## 种类

### 普通选择器

* 元素选择器 `h1 {}`
* 类选择器 `.class {}`
* ID选择器 `#id {}`
* 全局选择器 `* {}`
* 属性选择器 `a[title] {}`
  * 含有属性 `a[title]`
  * `=` 属性值等于 `a[href="https://example.com"]`
  * `~=` 属性值列表中包含 `a[class~="special"]` `class` 有多个值，其中一个为 `special`
  * `|=` 属性值等于或以此及`-`开头 `div[lang|="zh"]` 匹配lang属性等于 `zh` 或以`zh-`开头

### 伪类

偏重于元素的状态

* `:hover` 鼠标悬浮状态

### 伪元素

偏重于似是而非的元素

* `::before` 元素前插入伪元素
* `::after` 元素后插入伪元素
* `::first-line` 元素的第一行
* `::first-letter` 元素的第一个字母

### 组合选择器

### 选择器合并

## 优先级

当同一元素应用多条冲突的样式声明时，根据优先级确定最终样式。

### 层叠

选择器特异性相同的情况下，根据层叠关系确定最终样式。

* 自定义样式 > 浏览器设置样式 > 浏览器默认样式 > 自动继承样式
* 特异性相同时，最后声明的样式会被应用

### 继承

部分样式可以自动继承，比如颜色，字体等。

继承关系是根据 `HTML` 元素的上下级结构决定的。

所有样式的属性都可以指定为继承，相关的值有以下五种

* `inherit` 与父元素相同
* `initial` 属性的原始值
* `revert` 浏览器默认值
* `revert-layer`
* `unset` 如果该属性可以自动继承，就继承，否则就是属性的原始值。

### 特异性

样式声明特异性权重如下

| 权重 | 名字 |
| :--- | :---: |
| 1-0-0-0 | 行内样式 |
| 0-1-0-0 | id选择器 |
| 0-0-1-0 | 类、伪类、属性选择器 |
| 0-0-0-1 | 元素、伪元素选择器 |

`*`, 组合选择器 `+, >, ~, '',` `:not` 符号本身不影响特异性。

低权重声明再多，权重也不会超过高级权重

样式声明后加 `!important` 优先级最高

TODO @layer

layer可突破特异性的限制，后声明的layer普通属性优先级高，通过!important声明的样式优先级低。
不在layer中声明的样式，作为未命名layer放在最后
